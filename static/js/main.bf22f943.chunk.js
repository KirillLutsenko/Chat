(this.webpackJsonpChat=this.webpackJsonpChat||[]).push([[0],{42:function(n,e,t){"use strict";t.r(e);var c,r,o,a,i,s,b,d,l,u,x,j,p,h,f,g,O,m,k,w,y=t(2),v=t(0),S=t(22),C=t.n(S),E=t(11),T=t(3),N=t(9),z=T.b.div(c||(c=Object(y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n"]))),D=T.b.form(r||(r=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),K=T.b.input(o||(o=Object(y.a)(["\n  padding: 5px;\n  width: 120px;\n  height: 30px;\n  font-size: 12px;\n  outline: none;\n  border: 1px solid #39dbaa;\n  border-radius: 5px;\n"]))),L=T.b.button(a||(a=Object(y.a)(["\n  margin-top: 5px;\n  padding: 2px 10px;\n  width: 120px;\n  height: 30px;\n  border: 1px solid #39dbaa;\n  border-radius: 5px;\n  font-weight: 600;\n  background: #fff;\n  color: #39dbaa;\n  cursor: pointer;\n"]))),M=T.b.div(i||(i=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),J=T.b.div(s||(s=Object(y.a)(["\n  margin-top: 20px;\n  width: 400px;\n  height: 300px;\n  background: rgb(57, 219, 170, 0.4);\n  border-radius: 5px;\n  overflow: auto;\n\n  &::-webkit-scrollbar { width: 5px;}\n  &::-webkit-scrollbar-button {  background-color: #04c98a; border-radius: 5px; }\n  &::-webkit-scrollbar-track-piece { background-color: #c6c6c6;}\n  &::-webkit-scrollbar-thumb { height: 30px; background-color: #04c98a; border-radius: 5px;}\n"]))),R=T.b.div(b||(b=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 10px;\n  width: 400px;\n"]))),U=T.b.p(d||(d=Object(y.a)(["\n  color: #04c98a;\n"]))),A=Object(T.b)(U)(l||(l=Object(y.a)(["\n  color: #c6c6c6;\n"]))),B=T.b.input(u||(u=Object(y.a)(["\n  position: relative;\n  width: 40px;\n  height: 20px;\n  appearance: none;\n  background: rgb(57, 219, 170, 0.4);\n  outline: none;\n  border-radius: 20px;\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  transition: background 0.3s ease;\n\n  &:checked {\n    background: #c6c6c6;\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 20px;\n    height: 20px;\n    border-radius: 20px;\n    background: #04c98a;\n    transform: scale(1.05);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);\n    transition: 0.3s;\n  }\n\n  &:checked:before {\n    right: 20px;\n  }\n"]))),G=T.b.div(x||(x=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 15px;\n"]))),I=T.b.div(j||(j=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]))),P=Object(T.b)(I)(p||(p=Object(y.a)(["\n  align-items: flex-end;\n"]))),q=T.b.p(h||(h=Object(y.a)(["\n  font-size: 12px;\n  font-weight: 400;\n  color: rgb(61, 55, 55, 0.6)\n"]))),F=T.b.pre(f||(f=Object(y.a)(["\n  padding: 5px 15px;\n  margin-bottom: 2px;\n  font-style: italic;\n  border-radius: 5px;\n  background: #fff;\n  word-break: break-all;\n  color: rgb(61, 55, 55)\n"]))),H=T.b.div(g||(g=Object(y.a)(["\n  display: flex;\n  align-items: flex-end;\n  margin-bottom: 5px;\n  font-size: 9px;\n  color: rgb(61, 55, 55, 0.6)\n"]))),Q=T.b.form(O||(O=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  margin-top: 5px;\n"]))),V=T.b.textarea(m||(m=Object(y.a)(["\n  padding: 5px;\n  width: 400px;\n  border: 1px solid #39dbaa;\n  border-radius: 5px;\n  resize: none;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:disabled {\n    border-color: #c6c6c6;\n  }\n"]))),W=T.b.button(k||(k=Object(y.a)(["\n  margin-top: 5px;\n  padding: 5px 15px;\n  border-radius: 5px;\n  border: 2px solid #39dbaa;\n  background: #fff;\n  font-weight: 600;\n  cursor: pointer;\n  color: #39dbaa;\n  transition: color 0.2s ease, background 0.3s ease;\n\n  &:hover {\n    background: #39dbaa;\n    color: #fff;\n  }\n\n  &:disabled {\n    color: #c6c6c6;\n    border-color: #c6c6c6;\n  }\n"]))),X=t(1),Y=function(n){var e=n.switchStatus,t=n.checkboxStatus;return Object(X.jsxs)(R,{children:[Object(X.jsx)(B,{type:"checkbox",name:"switcher",onChange:e}),t?Object(X.jsx)(U,{children:"Online"}):Object(X.jsx)(A,{children:"Offline"})]})},Z=t(26),$="http://localhost:5000",_=function(n){var e=n.id,t=n.messages,c=n.setMessages,r=n.checkboxStatus,o=n.signal;return Object(v.useEffect)((function(){r&&function(n){return fetch("".concat($,"/connect"),{signal:n}).then((function(n){if(!n.ok)throw new Error("".concat(n.status," - ").concat(n.statusText));return n.json()})).then((function(n){return n}))}(o).then((function(n){return c([].concat(Object(Z.a)(t),[n]))}))}),[t,c,r,o]),Object(X.jsx)(G,{children:t.map((function(n,t){return n.id===e?Object(X.jsxs)(I,{children:[Object(X.jsx)(q,{children:n.username}),Object(X.jsx)(F,{children:n.message}),Object(X.jsx)(H,{children:n.time})]},"Key-".concat(t,"-").concat(new Date(n.time).getTime())):Object(X.jsxs)(P,{children:[Object(X.jsx)(q,{children:n.username}),Object(X.jsx)(F,{children:n.message}),Object(X.jsx)(H,{children:n.time})]},"Key-".concat(t,"-").concat(new Date(n.time).getTime()))}))})},nn=function(n,e,t,c){!function(n,e,t,c){fetch("".concat($,"/message?username=").concat(n,"&message=").concat(e,"&time=").concat(t,"&id=").concat(c),{method:"GET",redirect:"follow"}).then((function(n){return n.text()})).then((function(n){return n})).catch((function(n){console.warn("Error:",n)}))}(n,e,(new Date).toLocaleTimeString(),t),c("")},en=function(n){var e=n.userName,t=n.id,c=n.checkboxStatus,r=Object(v.useState)(""),o=Object(N.a)(r,2),a=o[0],i=o[1];return Object(X.jsxs)(Q,{children:[Object(X.jsx)(V,{placeholder:"Enter your message",id:"textarea",cols:"45",rows:"3",value:a,onChange:function(n){return i(n.target.value)},onKeyPress:function(n){return function(n){!n.shiftKey&&"Enter"===n.key&&a.trim()&&(n.preventDefault(),nn(e,a,t,i))}(n)},wrap:"soft",disabled:!c}),Object(X.jsx)(W,{type:"button",onClick:function(){a&&nn(e,a,t,i)},disabled:!c,children:"Send"})]})},tn=function(n){var e=n.userName,t=n.id,c=Object(v.useState)(!0),r=Object(N.a)(c,2),o=r[0],a=r[1],i=Object(v.useState)([]),s=Object(N.a)(i,2),b=s[0],d=s[1],l=Object(v.useRef)(null),u=new AbortController,x=u.signal;Object(v.useEffect)((function(){l.current.scrollTo(0,99999)}),[b]);return Object(X.jsxs)(M,{children:[Object(X.jsx)(Y,{switchStatus:function(){a(!o),u.abort()},checkboxStatus:o}),Object(X.jsx)(J,{ref:l,children:Object(X.jsx)(_,{id:t,messages:b,setMessages:d,checkboxStatus:o,signal:x})}),Object(X.jsx)(en,{userName:e,id:t,checkboxStatus:o})]})},cn=function(n){var e=n.setUserName,t=Object(v.useState)(""),c=Object(N.a)(t,2),r=c[0],o=c[1],a=function(){e(r)};return Object(X.jsxs)(D,{children:[Object(X.jsx)(K,{type:"text",placeholder:"Enter your name",value:r,onChange:function(n){return o(n.target.value)}}),r?Object(X.jsx)(E.b,{to:"/my-chat",children:Object(X.jsx)(L,{type:"button",onClick:a,children:"Log in"})}):Object(X.jsx)(L,{type:"button",onClick:a,children:"Log in"})]})},rn=t(4);function on(){var n=Object(v.useState)(""),e=Object(N.a)(n,2),t=e[0],c=e[1],r=Object(v.useRef)(function(){var n=Math.round(1e6*Math.random()+1e5),e=(new Date).getTime();return n.toString()+"-"+e.toString()}());return Object(X.jsxs)(rn.d,{children:[Object(X.jsx)(rn.b,{path:"/my-chat",children:Object(X.jsx)(tn,{id:r.current,userName:t})}),Object(X.jsx)(rn.b,{path:"/login",children:Object(X.jsx)(z,{children:Object(X.jsx)(cn,{setUserName:c})})}),Object(X.jsx)(rn.a,{path:"/",to:"/Login"})]})}var an=Object(T.a)(w||(w=Object(y.a)(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n  }\n"])));C.a.render(Object(X.jsxs)(E.a,{children:[Object(X.jsx)(an,{}),Object(X.jsx)(on,{})]}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.bf22f943.chunk.js.map