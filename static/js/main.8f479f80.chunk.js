(this.webpackJsonpChat=this.webpackJsonpChat||[]).push([[0],{42:function(e,n,t){"use strict";t.r(n);var c,r,o,a,i,s,b,d,u,l,j,x,h,p,O,f,g,m,w,k,y,v,S,C,E,N,T=t(2),D=t(0),z=t(22),K=t.n(z),L=t(10),M=t(3),q=t(6),P=M.b.button(c||(c=Object(T.a)(["\n  margin-top: 5px;\n  padding: 5px 15px;\n  border-radius: 5px;\n  border: 2px solid #39dbaa;\n  background: #fff;\n  font-weight: 600;\n  cursor: pointer;\n  color: #39dbaa;\n  transition: color 0.2s ease, background 0.3s ease;\n\n  &:hover {\n    background: #39dbaa;\n    color: #fff;\n  }\n"]))),J=M.b.div(r||(r=Object(T.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n"]))),R=M.b.form(o||(o=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),U=M.b.input(a||(a=Object(T.a)(["\n  padding: 5px;\n  width: 120px;\n  height: 30px;\n  font-size: 12px;\n  outline: none;\n  border: 2px solid #39dbaa;\n  border-radius: 5px;\n"]))),A=Object(M.b)(P)(i||(i=Object(T.a)(["\n  width: 120px;\n"]))),G=M.b.div(s||(s=Object(T.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n"]))),B=Object(M.b)(P)(b||(b=Object(T.a)(["\n  margin: 0 10px;\n  text-transform: uppercase;\n  font-size: 12px;\n"]))),F=Object(M.b)(B)(d||(d=Object(T.a)([""]))),I=M.b.div(u||(u=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Y=M.b.div(l||(l=Object(T.a)(["\n  margin-top: 20px;\n  width: 400px;\n  height: 300px;\n  background: rgb(57, 219, 170, 0.4);\n  border-radius: 5px;\n  overflow: auto;\n  @media (max-width: 415px) {\n    width: 300px;\n    height: 250px;\n  }\n\n  &::-webkit-scrollbar { width: 5px;}\n  &::-webkit-scrollbar-button {  background-color: #04c98a; border-radius: 5px; }\n  &::-webkit-scrollbar-track-piece { background-color: #c6c6c6;}\n  &::-webkit-scrollbar-thumb { height: 30px; background-color: #04c98a; border-radius: 5px;}\n"]))),H=M.b.div(j||(j=Object(T.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 10px;\n  width: 400px;\n\n  @media (max-width: 415px) {\n    width: 300px;\n  }\n"]))),Q=M.b.p(x||(x=Object(T.a)(["\n  color: #04c98a;\n"]))),V=Object(M.b)(Q)(h||(h=Object(T.a)(["\n  color: #c6c6c6;\n"]))),W=M.b.input(p||(p=Object(T.a)(["\n  position: relative;\n  width: 40px;\n  height: 20px;\n  appearance: none;\n  background: rgb(57, 219, 170, 0.4);\n  outline: none;\n  border-radius: 20px;\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  transition: background 0.3s ease;\n\n  &:checked {\n    background: #c6c6c6;\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 20px;\n    height: 20px;\n    border-radius: 20px;\n    background: #04c98a;\n    transform: scale(1.05);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);\n    transition: 0.3s;\n  }\n\n  &:checked:before {\n    right: 20px;\n  }\n"]))),X=(M.b.div(O||(O=Object(T.a)(["\n  position: relative;\n  width: 40px;\n  height: 20px;\n  background: rgb(57, 219, 170, 0.4);\n  border-radius: 20px;\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  transition: background 0.3s ease;\n"]))),M.b.div(f||(f=Object(T.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  background: #04c98a;\n  transform: scale(1.05);\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);\n"]))),M.b.div(g||(g=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 15px;\n"])))),Z=M.b.div(m||(m=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n"]))),$=Object(M.b)(Z)(w||(w=Object(T.a)(["\n  align-items: flex-start;\n"]))),_=M.b.p(k||(k=Object(T.a)(["\n  font-size: 12px;\n  font-weight: 400;\n  color: rgb(61, 55, 55, 0.6)\n"]))),ee=M.b.pre(y||(y=Object(T.a)(["\n  padding: 5px 15px;\n  margin-bottom: 2px;\n  font-style: italic;\n  border-radius: 5px;\n  background: #fff;\n  word-break: break-all;\n  color: rgb(61, 55, 55)\n"]))),ne=M.b.div(v||(v=Object(T.a)(["\n  display: flex;\n  align-items: flex-end;\n  margin-bottom: 5px;\n  font-size: 9px;\n  color: rgb(61, 55, 55, 0.6)\n"]))),te=M.b.form(S||(S=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  margin-top: 5px;\n"]))),ce=M.b.textarea(C||(C=Object(T.a)(["\n  padding: 5px;\n  width: 400px;\n  border: 1px solid #39dbaa;\n  border-radius: 5px;\n  resize: none;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:disabled {\n    border-color: #c6c6c6;\n  }\n\n  @media (max-width: 415px) {\n    width: 300px;\n  }\n"]))),re=Object(M.b)(P)(E||(E=Object(T.a)(["\n  margin-top: 5px;\n\n  &:disabled {\n    color: #c6c6c6;\n    border-color: #c6c6c6;\n  }\n"]))),oe=t(1),ae=function(e){var n=e.switchStatus,t=e.checkboxStatus;return Object(oe.jsxs)(H,{children:[Object(oe.jsx)(W,{type:"checkbox",name:"switcher",onChange:n}),t?Object(oe.jsx)(Q,{children:"Online"}):Object(oe.jsx)(V,{children:"Offline"})]})},ie=t(26),se="https://cryptic-sea-94299.herokuapp.com",be=function(e){var n=e.id,t=e.messages,c=e.setMessages,r=e.checkboxStatus,o=e.signal;return Object(D.useEffect)((function(){r&&function(e){return fetch("".concat(se,"/connect"),{signal:e}).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){return e}))}(o).then((function(e){return c([].concat(Object(ie.a)(t),[e]))}))}),[t,c,r,o]),Object(oe.jsx)(X,{children:t.map((function(e,t){return e.id===n?Object(oe.jsxs)(Z,{children:[Object(oe.jsx)(_,{children:"You:"}),Object(oe.jsx)(ee,{children:e.message}),Object(oe.jsx)(ne,{children:e.time})]},"Key-".concat(t,"-").concat(new Date(e.time).getTime())):Object(oe.jsxs)($,{children:[Object(oe.jsx)(_,{children:"".concat(e.username,":")}),Object(oe.jsx)(ee,{children:e.message}),Object(oe.jsx)(ne,{children:e.time})]},"Key-".concat(t,"-").concat(new Date(e.time).getTime()))}))})},de=function(e,n,t,c){!function(e,n,t,c){fetch("".concat(se,"/getmessage?username=").concat(e,"&message=").concat(n,"&time=").concat(t,"&id=").concat(c),{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return e})).catch((function(e){console.warn("Error:",e)}))}(e,n,(new Date).toLocaleTimeString(),t),c("")},ue=function(e,n,t,c){!function(e,n,t,c){fetch("".concat(se,"/postmessage"),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({username:e,message:n,time:t,id:c})}).then((function(e){return e.text()})).then((function(e){return e})).catch((function(e){console.warn("Error:",e)}))}(e,n,(new Date).toLocaleTimeString(),t),c("")},le=function(e){var n=e.userName,t=e.id,c=e.checkboxStatus,r=Object(D.useState)(""),o=Object(q.a)(r,2),a=o[0],i=o[1];return Object(oe.jsxs)(te,{children:[Object(oe.jsx)(ce,{placeholder:"Enter your message",id:"textarea",cols:"45",rows:"3",value:a,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){return function(e){!e.shiftKey&&"Enter"===e.key&&a.trim()&&(e.preventDefault(),de(n,a,t,i))}(e)},wrap:"soft",disabled:!c}),Object(oe.jsx)(re,{type:"button",onClick:function(){a&&de(n,a,t,i)},disabled:!c,children:"Send"})]})},je=function(e){var n=e.userName,t=e.id,c=Object(D.useState)(!0),r=Object(q.a)(c,2),o=r[0],a=r[1],i=Object(D.useState)([]),s=Object(q.a)(i,2),b=s[0],d=s[1],u=Object(D.useRef)(null),l=new AbortController,j=l.signal;Object(D.useEffect)((function(){u.current.scrollTo(0,99999)}),[b]);return Object(oe.jsxs)(I,{children:[Object(oe.jsx)(ae,{switchStatus:function(){a(!o),l.abort()},checkboxStatus:o}),Object(oe.jsx)(Y,{ref:u,children:Object(oe.jsx)(be,{id:t,messages:b,setMessages:d,checkboxStatus:o,signal:j})}),Object(oe.jsx)(le,{userName:n,id:t,checkboxStatus:o})]})},xe=function(e){var n=e.userName,t=e.id,c=e.checkboxStatus,r=Object(D.useState)(""),o=Object(q.a)(r,2),a=o[0],i=o[1];return Object(oe.jsxs)(te,{children:[Object(oe.jsx)(ce,{placeholder:"Enter your message",id:"textarea",cols:"45",rows:"3",value:a,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){return function(e){!e.shiftKey&&"Enter"===e.key&&a.trim()&&(e.preventDefault(),ue(n,a,t,i))}(e)},wrap:"soft",disabled:!c}),Object(oe.jsx)(re,{type:"button",onClick:function(){a&&ue(n,a,t,i)},disabled:!c,children:"Send"})]})},he=function(e){var n=e.userName,t=e.id,c=Object(D.useState)(!0),r=Object(q.a)(c,2),o=r[0],a=r[1],i=Object(D.useState)([]),s=Object(q.a)(i,2),b=s[0],d=s[1],u=Object(D.useRef)(null),l=new AbortController,j=l.signal;Object(D.useEffect)((function(){u.current.scrollTo(0,99999)}),[b]);return Object(oe.jsxs)(I,{children:[Object(oe.jsx)(ae,{switchStatus:function(){a(!o),l.abort()},checkboxStatus:o}),Object(oe.jsx)(Y,{ref:u,children:Object(oe.jsx)(be,{id:t,messages:b,setMessages:d,checkboxStatus:o,signal:j})}),Object(oe.jsx)(xe,{userName:n,id:t,checkboxStatus:o})]})},pe=function(e){var n=e.setUserName,t=Object(D.useState)(""),c=Object(q.a)(t,2),r=c[0],o=c[1],a=function(){n(r)};return Object(oe.jsxs)(R,{children:[Object(oe.jsx)(U,{type:"text",placeholder:"Enter your name",value:r,onChange:function(e){return o(e.target.value)}}),r?Object(oe.jsx)(L.b,{to:"/querymethods",children:Object(oe.jsx)(A,{type:"button",onClick:a,children:"Log in"})}):Object(oe.jsx)(A,{type:"button",onClick:a,children:"Log in"})]})},Oe=t(4),fe=function(){return Object(oe.jsxs)(G,{children:[Object(oe.jsx)(L.b,{to:"/chatwithgetmethod",children:Object(oe.jsx)(B,{children:"Get query"})}),Object(oe.jsx)(L.b,{to:"/chatwithpostmethod",children:Object(oe.jsx)(F,{children:"Post query"})})]})};function ge(){var e=Object(D.useState)(""),n=Object(q.a)(e,2),t=n[0],c=n[1],r=Object(D.useRef)(function(){var e=Math.round(1e6*Math.random()+1e5),n=(new Date).getTime();return e.toString()+"-"+n.toString()}());return Object(oe.jsxs)(Oe.d,{children:[Object(oe.jsx)(Oe.b,{path:"/chatwithgetmethod",children:Object(oe.jsx)(je,{id:r.current,userName:t})}),Object(oe.jsx)(Oe.b,{path:"/chatwithpostmethod",children:Object(oe.jsx)(he,{id:r.current,userName:t})}),Object(oe.jsx)(Oe.b,{path:"/querymethods",children:Object(oe.jsx)(fe,{})}),Object(oe.jsx)(Oe.b,{path:"/login",children:Object(oe.jsx)(J,{children:Object(oe.jsx)(pe,{setUserName:c})})}),Object(oe.jsx)(Oe.a,{path:"/",to:"/Login"})]})}var me=Object(M.a)(N||(N=Object(T.a)(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n  }\n"])));K.a.render(Object(oe.jsxs)(L.a,{children:[Object(oe.jsx)(me,{}),Object(oe.jsx)(ge,{})]}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.8f479f80.chunk.js.map