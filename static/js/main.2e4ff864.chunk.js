(this.webpackJsonpChat=this.webpackJsonpChat||[]).push([[0],{25:function(n,e,t){"use strict";t.r(e);var c,r,o,a,i,s,b,d,u,l,x,j,p,f,h,g,O,m,k,w,y=t(2),v=t(0),S=t(11),E=t.n(S),C=t(3),T=t(4),D=C.b.div(c||(c=Object(y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n"]))),N=C.b.form(r||(r=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),z=C.b.input(o||(o=Object(y.a)(["\n  padding: 5px;\n  width: 120px;\n  height: 30px;\n  font-size: 12px;\n  outline: none;\n  border: 1px solid #39dbaa;\n  border-radius: 5px;\n"]))),K=C.b.button(a||(a=Object(y.a)(["\n  margin-top: 5px;\n  padding: 2px 10px;\n  width: 120px;\n  height: 30px;\n  border: 1px solid #39dbaa;\n  border-radius: 5px;\n  font-weight: 600;\n  background: #fff;\n  color: #39dbaa;\n  cursor: pointer;\n"]))),M=C.b.div(i||(i=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),J=C.b.div(s||(s=Object(y.a)(["\n  margin-top: 20px;\n  width: 400px;\n  height: 300px;\n  background: rgb(57, 219, 170, 0.4);\n  border-radius: 5px;\n  overflow: auto;\n\n  &::-webkit-scrollbar { width: 5px;}\n  &::-webkit-scrollbar-button {  background-color: #04c98a; border-radius: 5px; }\n  &::-webkit-scrollbar-track-piece { background-color: #c6c6c6;}\n  &::-webkit-scrollbar-thumb { height: 30px; background-color: #04c98a; border-radius: 5px;}\n"]))),L=C.b.div(b||(b=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 10px;\n  width: 400px;\n"]))),P=C.b.p(d||(d=Object(y.a)(["\n  color: #04c98a;\n"]))),R=Object(C.b)(P)(u||(u=Object(y.a)(["\n  color: #c6c6c6;\n"]))),U=C.b.input(l||(l=Object(y.a)(["\n  position: relative;\n  width: 40px;\n  height: 20px;\n  appearance: none;\n  background: rgb(57, 219, 170, 0.4);\n  outline: none;\n  border-radius: 20px;\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  transition: background 0.3s ease;\n\n  &:checked {\n    background: #c6c6c6;\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 20px;\n    height: 20px;\n    border-radius: 20px;\n    background: #04c98a;\n    transform: scale(1.05);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);\n    transition: 0.3s;\n  }\n\n  &:checked:before {\n    right: 20px;\n  }\n"]))),B=C.b.div(x||(x=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 15px;\n"]))),F=C.b.div(j||(j=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]))),G=Object(C.b)(F)(p||(p=Object(y.a)(["\n  align-items: flex-end;\n"]))),I=C.b.p(f||(f=Object(y.a)(["\n  font-size: 12px;\n  font-weight: 400;\n  color: rgb(61, 55, 55, 0.6)\n"]))),q=C.b.pre(h||(h=Object(y.a)(["\n  padding: 5px 15px;\n  margin-bottom: 2px;\n  font-style: italic;\n  border-radius: 5px;\n  background: #fff;\n  word-break: break-all;\n  color: rgb(61, 55, 55)\n"]))),A=C.b.div(g||(g=Object(y.a)(["\n  display: flex;\n  align-items: flex-end;\n  margin-bottom: 5px;\n  font-size: 9px;\n  color: rgb(61, 55, 55, 0.6)\n"]))),H=C.b.form(O||(O=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  margin-top: 5px;\n"]))),Q=C.b.textarea(m||(m=Object(y.a)(["\n  padding: 5px;\n  width: 400px;\n  border: 1px solid #39dbaa;\n  border-radius: 5px;\n  resize: none;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:disabled {\n    border-color: #c6c6c6;\n  }\n"]))),V=C.b.button(k||(k=Object(y.a)(["\n  margin-top: 5px;\n  padding: 5px 15px;\n  border-radius: 5px;\n  border: 2px solid #39dbaa;\n  background: #fff;\n  font-weight: 600;\n  cursor: pointer;\n  color: #39dbaa;\n  transition: color 0.2s ease, background 0.3s ease;\n\n  &:hover {\n    background: #39dbaa;\n    color: #fff;\n  }\n\n  &:disabled {\n    color: #c6c6c6;\n    border-color: #c6c6c6;\n  }\n"]))),W=t(1),X=function(n){var e=n.checkboxStatus,t=n.setCheckboxStatus;return Object(W.jsxs)(L,{children:[Object(W.jsx)(U,{type:"checkbox",name:"switcher",onChange:function(){t(!e)}}),e?Object(W.jsx)(P,{children:"Online"}):Object(W.jsx)(R,{children:"Offline"})]})},Y=t(15),Z="http://localhost:5000",$=function(n){var e=n.id,t=n.messages,c=n.setMessages;return Object(v.useEffect)((function(){fetch("".concat(Z,"/connect")).then((function(n){if(!n.ok)throw new Error("".concat(n.status," - ").concat(n.statusText));return n.json()})).then((function(n){return n})).then((function(n){return c([].concat(Object(Y.a)(t),[n]))}))}),[t,c]),Object(W.jsx)(B,{children:t.map((function(n,t){return n.id===e?Object(W.jsxs)(F,{children:[Object(W.jsx)(I,{children:n.username}),Object(W.jsx)(q,{children:n.message}),Object(W.jsx)(A,{children:n.time})]},"Key-".concat(t,"-").concat(new Date(n.time).getTime())):Object(W.jsxs)(G,{children:[Object(W.jsx)(I,{children:n.username}),Object(W.jsx)(q,{children:n.message}),Object(W.jsx)(A,{children:n.time})]},"Key-".concat(t,"-").concat(new Date(n.time).getTime()))}))})},_=(new Date).toLocaleTimeString(),nn=function(n,e,t,c){!function(n,e,t,c){fetch("".concat(Z,"/message?username=").concat(n,"&message=").concat(e,"&time=").concat(t,"&id=").concat(c),{method:"GET",redirect:"follow"}).then((function(n){return n.text()})).then((function(n){return n})).catch((function(n){console.warn("Error:",n)}))}(n,e,_,t),c("")},en=function(n){var e=n.userName,t=n.id,c=n.checkboxStatus,r=Object(v.useState)(""),o=Object(T.a)(r,2),a=o[0],i=o[1],s=Object(v.useState)(!0),b=Object(T.a)(s,1)[0];return Object(W.jsxs)(H,{children:[Object(W.jsx)(Q,{placeholder:"Enter your message",id:"textarea",cols:"45",rows:"3",value:a,onChange:function(n){return i(n.target.value)},onKeyPress:function(n){return function(n){!n.shiftKey&&"Enter"===n.key&&a.trim()&&(n.preventDefault(),nn(e,a,t,i))}(n)},wrap:"soft",disabled:c?!b:b}),Object(W.jsx)(V,{type:"button",onClick:function(){a&&nn(e,a,t,i)},disabled:c?!b:b,children:"Send"})]})},tn=function(n){var e=n.userName,t=n.id,c=Object(v.useState)(!0),r=Object(T.a)(c,2),o=r[0],a=r[1],i=Object(v.useState)([]),s=Object(T.a)(i,2),b=s[0],d=s[1],u=Object(v.useRef)(null);return Object(v.useEffect)((function(){u.current.scrollTo(0,99999)}),[b]),Object(W.jsxs)(M,{children:[Object(W.jsx)(X,{checkboxStatus:o,setCheckboxStatus:a}),Object(W.jsx)(J,{ref:u,children:Object(W.jsx)($,{id:t,messages:b,setMessages:d})}),Object(W.jsx)(en,{userName:e,id:t,checkboxStatus:o})]})},cn=function(n){var e=n.setUserName,t=Object(v.useState)(""),c=Object(T.a)(t,2),r=c[0],o=c[1];return Object(W.jsxs)(N,{children:[Object(W.jsx)(z,{type:"text",placeholder:"Enter your name",value:r,onChange:function(n){return o(n.target.value)},onKeyPress:function(n){return function(n,e,t){"Enter"===n.key&&e.trim()&&(n.preventDefault(),t(e))}(n,r,e)}}),Object(W.jsx)(K,{type:"button",onClick:function(){e(r)},children:"Log in"})]})};function rn(){var n=Object(v.useState)(""),e=Object(T.a)(n,2),t=e[0],c=e[1],r=Object(v.useRef)(function(){var n=Math.round(1e6*Math.random()+1e5),e=(new Date).getTime();return n.toString()+"-"+e.toString()}());return Object(W.jsxs)(D,{children:[!t&&Object(W.jsx)(cn,{setUserName:c}),t&&Object(W.jsx)(tn,{id:r.current,userName:t})]})}var on=Object(C.a)(w||(w=Object(y.a)(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n  }\n"])));E.a.render(Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(on,{}),Object(W.jsx)(rn,{})]}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.2e4ff864.chunk.js.map